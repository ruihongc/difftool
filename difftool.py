from difflib import ndiff
from pygments import highlight
from pygments.formatters import HtmlFormatter
from pygments.lexers import get_lexer_by_name, get_lexer_for_filename, get_lexer_for_mimetype

def __color__(buffer, lexer, mode, newline, lineno, cur, code, formatter):
    if buffer:
        tmp = highlight(''.join(buffer)+'\n', lexer, formatter).replace('\n</pre>', '').replace('div', 'span').replace('<pre>', '').replace('<span></span>', '')[:-1]
        if mode == '+':
            tmp = f'<span class="add">{tmp}</span>'
            for i in range(tmp.count('\n')):
                newline.append('<span class="add">+\\n</span>\n')
        elif mode == '-':
            tmp = f'<span class="rem">{tmp}</span>'
            for i in range(tmp.count('\n')):
                newline.append('<span class="rem">-\\n</span>\n')
        else:
            for i in range(tmp.count('\n')):
                newline.append('\n')
        for i in range(tmp.count('\n')):
            lineno.append(f'  {cur[0]}  \n')
            cur[0] += 1
        code.append(tmp)

def __nocolor__(buffer, mode, newline, lineno, cur, code):
    if buffer:
        tmp = ''.join(buffer)
        if mode == '+':
            tmp = f'<span class="add">{tmp}</span>'
            for i in range(tmp.count('\n')):
                newline.append('<span class="add">+\\n</span>\n')
        elif mode == '-':
            tmp = f'<span class="rem">{tmp}</span>'
            for i in range(tmp.count('\n')):
                newline.append('<span class="rem">-\\n</span>\n')
        else:
            for i in range(tmp.count('\n')):
                newline.append('\n')
        for i in range(tmp.count('\n')):
            lineno.append(f'  {cur[0]}  \n')
            cur[0] += 1
        code.append(tmp)

def diff(s1, s2, style='xcode', language=None, method=0, c1="lightpink", c2="lightgreen", td1="white", td2="whitesmoke", td3="azure", colorno="dimgrey"):
    if method:
        if method == 1:
            lexer = get_lexer_by_name(language)
        elif method == 2:
            lexer = get_lexer_for_filename(language)
        elif method == 3:
            lexer = get_lexer_for_mimetype(language)
        lexer.__init__(stripnl=False, stripall=False, ensurenl=True)
        formatter = HtmlFormatter(style=style)
        ret = ['<style>', formatter.get_style_defs('.highlight').replace('.highlight {', '.foo {'), '.add { background-color:', c2, ' !important; }', '.rem { background-color:', c1, ' !important; }', 'td { padding: 10px; }', '</style>', f'<table style="white-space:pre;border:1px solid black;"><tr><td style="background-color:{td1}">']
    else:
        ret = ['<style>', '.add { background-color:', c2, ' !important; }', '.rem { background-color:', c1, ' !important; }', 'td { padding: 10px; }', '</style>', f'<table style="white-space:pre;border:1px solid black;"><tr><td style="background-color:{td1}">']
    buffer = []
    code = []
    lineno = ['  1  \n']
    newline = ['\n']
    cur = [2]
    mode = ' '
    for s in ndiff(s1, s2):
        if s[0] != mode:
            if method:
                __color__(buffer, lexer, mode, newline, lineno, cur, code, formatter)
            else:
                __nocolor__(buffer, mode, newline, lineno, cur, code)
            buffer = []
            mode = s[0]
        buffer.append(s[-1])
    if method:
        __color__(buffer, lexer, mode, newline, lineno, cur, code, formatter)
    else:
        __nocolor__(buffer, mode, newline, lineno, cur, code)
    ret.append(f'{"".join(newline)}</td><td style="background-color:{td2};text-align:right;color:{colorno};">{"".join(lineno)}</td><td style="background-color:{td3};">{"".join(code)}\n</td></tr></table>')
    return ''.join(ret)

if __name__ == '__main__':
    languages = ['ABAP', 'abap', 'AMDGPU', 'amdgpu', 'APL', 'apl', 'ABNF', 'abnf', 'ActionScript 3', 'actionscript3', 'as3', 'ActionScript', 'actionscript', 'as', 'Ada', 'ada', 'ada95', 'ada2005', 'ADL', 'adl', 'Agda', 'agda', 'Aheui', 'aheui', 'Alloy', 'alloy', 'AmbientTalk', 'ambienttalk', 'ambienttalk/2', 'at', 'Ampl', 'ampl', 'HTML + Angular2', 'html+ng2', 'Angular2', 'ng2', 'ANTLR With ActionScript Target', 'antlr-actionscript', 'antlr-as', 'ANTLR With C# Target', 'antlr-csharp', 'antlr-c#', 'ANTLR With CPP Target', 'antlr-cpp', 'ANTLR With Java Target', 'antlr-java', 'ANTLR', 'antlr', 'ANTLR With ObjectiveC Target', 'antlr-objc', 'ANTLR With Perl Target', 'antlr-perl', 'ANTLR With Python Target', 'antlr-python', 'ANTLR With Ruby Target', 'antlr-ruby', 'antlr-rb', 'ApacheConf', 'apacheconf', 'aconf', 'apache', 'AppleScript', 'applescript', 'Arduino', 'arduino', 'Arrow', 'arrow', 'AspectJ', 'aspectj', 'Asymptote', 'asymptote', 'asy', 'Augeas', 'augeas', 'AutoIt', 'autoit', 'autohotkey', 'autohotkey', 'ahk', 'Awk', 'awk', 'gawk', 'mawk', 'nawk', 'BBC Basic', 'bbcbasic', 'BBCode', 'bbcode', 'BC', 'bc', 'BST', 'bst', 'bst-pybtex', 'BARE', 'bare', 'Base Makefile', 'basemake', 'Bash', 'bash', 'sh', 'ksh', 'zsh', 'shell', 'Bash Session', 'console', 'shell-session', 'Batchfile', 'batch', 'bat', 'dosbatch', 'winbatch', 'Befunge', 'befunge', 'BibTeX', 'bibtex', 'bib', 'BlitzBasic', 'blitzbasic', 'b3d', 'bplus', 'BlitzMax', 'blitzmax', 'bmax', 'BNF', 'bnf', 'Boa', 'boa', 'Boo', 'boo', 'Boogie', 'boogie', 'Brainfuck', 'brainfuck', 'bf', 'BUGS', 'bugs', 'winbugs', 'openbugs', 'CAmkES', 'camkes', 'idl4', 'C', 'c', 'CMake', 'cmake', 'c-objdump', 'c-objdump', 'CPSA', 'cpsa', 'aspx-cs', 'aspx-cs', 'C#', 'csharp', 'c#', 'ca65 assembler', 'ca65', 'cADL', 'cadl', 'CapDL', 'capdl', "Cap'n Proto", 'capnp', 'CBM BASIC V2', 'cbmbas', 'CDDL', 'cddl', 'Ceylon', 'ceylon', 'CFEngine3', 'cfengine3', 'cf3', 'ChaiScript', 'chaiscript', 'chai', 'Chapel', 'chapel', 'chpl', 'Charmci', 'charmci', 'HTML+Cheetah', 'html+cheetah', 'html+spitfire', 'htmlcheetah', 'JavaScript+Cheetah', 'javascript+cheetah', 'js+cheetah', 'javascript+spitfire', 'js+spitfire', 'Cheetah', 'cheetah', 'spitfire', 'XML+Cheetah', 'xml+cheetah', 'xml+spitfire', 'Cirru', 'cirru', 'Clay', 'clay', 'Clean', 'clean', 'Clojure', 'clojure', 'clj', 'ClojureScript', 'clojurescript', 'cljs', 'COBOLFree', 'cobolfree', 'COBOL', 'cobol', 'CoffeeScript', 'coffeescript', 'coffee-script', 'coffee', 'Coldfusion CFC', 'cfc', 'Coldfusion HTML', 'cfm', 'cfstatement', 'cfs', 'Common Lisp', 'common-lisp', 'cl', 'lisp', 'Component Pascal', 'componentpascal', 'cp', 'Coq', 'coq', 'C++', 'cpp', 'c++', 'cpp-objdump', 'cpp-objdump', 'c++-objdumb', 'cxx-objdump', 'Crmsh', 'crmsh', 'pcmk', 'Croc', 'croc', 'Cryptol', 'cryptol', 'cry', 'Crystal', 'cr', 'crystal', 'Csound Document', 'csound-document', 'csound-csd', 'Csound Orchestra', 'csound', 'csound-orc', 'Csound Score', 'csound-score', 'csound-sco', 'CSS+Django/Jinja', 'css+django', 'css+jinja', 'CSS+Ruby', 'css+ruby', 'css+erb', 'CSS+Genshi Text', 'css+genshitext', 'css+genshi', 'CSS', 'css', 'CSS+PHP', 'css+php', 'CSS+Smarty', 'css+smarty', 'CUDA', 'cuda', 'cu', 'Cypher', 'cypher', 'Cython', 'cython', 'pyx', 'pyrex', 'D', 'd', 'd-objdump', 'd-objdump', 'Darcs Patch', 'dpatch', 'Dart', 'dart', 'DASM16', 'dasm16', 'Debian Control file', 'debcontrol', 'control', 'Delphi', 'delphi', 'pas', 'pascal', 'objectpascal', 'Devicetree', 'devicetree', 'dts', 'dg', 'dg', 'Diff', 'diff', 'udiff', 'Django/Jinja', 'django', 'jinja', 'Docker', 'docker', 'dockerfile', 'DTD', 'dtd', 'Duel', 'duel', 'jbst', 'jsonml+bst', 'Dylan session', 'dylan-console', 'dylan-repl', 'Dylan', 'dylan', 'DylanLID', 'dylan-lid', 'lid', 'ECL', 'ecl', 'eC', 'ec', 'Earl Grey', 'earl-grey', 'earlgrey', 'eg', 'Easytrieve', 'easytrieve', 'EBNF', 'ebnf', 'Eiffel', 'eiffel', 'Elixir iex session', 'iex', 'Elixir', 'elixir', 'ex', 'exs', 'Elm', 'elm', 'EmacsLisp', 'emacs-lisp', 'elisp', 'emacs', 'E-mail', 'email', 'eml', 'ERB', 'erb', 'Erlang', 'erlang', 'Erlang erl session', 'erl', 'HTML+Evoque', 'html+evoque', 'Evoque', 'evoque', 'XML+Evoque', 'xml+evoque', 'execline', 'execline', 'Ezhil', 'ezhil', 'F#', 'fsharp', 'f#', 'FStar', 'fstar', 'Factor', 'factor', 'Fancy', 'fancy', 'fy', 'Fantom', 'fan', 'Felix', 'felix', 'flx', 'Fennel', 'fennel', 'fnl', 'Fish', 'fish', 'fishshell', 'Flatline', 'flatline', 'FloScript', 'floscript', 'flo', 'Forth', 'forth', 'FortranFixed', 'fortranfixed', 'Fortran', 'fortran', 'FoxPro', 'foxpro', 'vfp', 'clipper', 'xbase', 'Freefem', 'freefem', 'Futhark', 'futhark', 'GAP', 'gap', 'GDScript', 'gdscript', 'gd', 'GLSL', 'glsl', 'GAS', 'gas', 'asm', 'g-code', 'gcode', 'Genshi', 'genshi', 'kid', 'xml+genshi', 'xml+kid', 'Genshi Text', 'genshitext', 'Gettext Catalog', 'pot', 'po', 'Gherkin', 'gherkin', 'cucumber', 'Gnuplot', 'gnuplot', 'Go', 'go', 'Golo', 'golo', 'GoodData-CL', 'gooddata-cl', 'Gosu', 'gosu', 'Gosu Template', 'gst', 'Graphviz', 'graphviz', 'dot', 'Groff', 'groff', 'nroff', 'man', 'Groovy', 'groovy', 'HLSL', 'hlsl', 'Haml', 'haml', 'HTML+Handlebars', 'html+handlebars', 'Handlebars', 'handlebars', 'Haskell', 'haskell', 'hs', 'Haxe', 'haxe', 'hxsl', 'hx', 'Hexdump', 'hexdump', 'HSAIL', 'hsail', 'hsa', 'Hspec', 'hspec', 'HTML+Django/Jinja', 'html+django', 'html+jinja', 'htmldjango', 'HTML+Genshi', 'html+genshi', 'html+kid', 'HTML', 'html', 'HTML+PHP', 'html+php', 'HTML+Smarty', 'html+smarty', 'HTTP', 'http', 'Hxml', 'haxeml', 'hxml', 'Hy', 'hylang', 'Hybris', 'hybris', 'hy', 'IDL', 'idl', 'Icon', 'icon', 'Idris', 'idris', 'idr', 'Igor', 'igor', 'igorpro', 'Inform 6', 'inform6', 'i6', 'Inform 6 template', 'i6t', 'Inform 7', 'inform7', 'i7', 'INI', 'ini', 'cfg', 'dosini', 'Io', 'io', 'Ioke', 'ioke', 'ik', 'IRC logs', 'irc', 'Isabelle', 'isabelle', 'J', 'j', 'JAGS', 'jags', 'Jasmin', 'jasmin', 'jasminxt', 'Java', 'java', 'JavaScript+Django/Jinja', 'javascript+django', 'js+django', 'javascript+jinja', 'js+jinja', 'JavaScript+Ruby', 'javascript+ruby', 'js+ruby', 'javascript+erb', 'js+erb', 'JavaScript+Genshi Text', 'js+genshitext', 'js+genshi', 'javascript+genshitext', 'javascript+genshi', 'JavaScript', 'javascript', 'js', 'JavaScript+PHP', 'javascript+php', 'js+php', 'JavaScript+Smarty', 'javascript+smarty', 'js+smarty', 'JCL', 'jcl', 'JSGF', 'jsgf', 'JSONBareObject', 'JSON-LD', 'jsonld', 'json-ld', 'JSON', 'json', 'json-object', 'Java Server Page', 'jsp', 'Julia console', 'jlcon', 'julia-repl', 'Julia', 'julia', 'jl', 'Juttle', 'juttle', 'Kal', 'kal', 'Kconfig', 'kconfig', 'menuconfig', 'linux-config', 'kernel-config', 'Kernel log', 'kmsg', 'dmesg', 'Koka', 'koka', 'Kotlin', 'kotlin', 'Kuin', 'kuin', 'LSL', 'lsl', 'CSS+Lasso', 'css+lasso', 'HTML+Lasso', 'html+lasso', 'JavaScript+Lasso', 'javascript+lasso', 'js+lasso', 'Lasso', 'lasso', 'lassoscript', 'XML+Lasso', 'xml+lasso', 'Lean', 'lean', 'LessCss', 'less', 'Lighttpd configuration file', 'lighttpd', 'lighty', 'Limbo', 'limbo', 'liquid', 'liquid', 'Literate Agda', 'literate-agda', 'lagda', 'Literate Cryptol', 'literate-cryptol', 'lcryptol', 'lcry', 'Literate Haskell', 'literate-haskell', 'lhaskell', 'lhs', 'Literate Idris', 'literate-idris', 'lidris', 'lidr', 'LiveScript', 'livescript', 'live-script', 'LLVM', 'llvm', 'LLVM-MIR Body', 'llvm-mir-body', 'LLVM-MIR', 'llvm-mir', 'Logos', 'logos', 'Logtalk', 'logtalk', 'Lua', 'lua', 'MIME', 'mime', 'MOOCode', 'moocode', 'moo', 'MSDOS Session', 'doscon', 'Makefile', 'make', 'makefile', 'mf', 'bsdmake', 'CSS+Mako', 'css+mako', 'HTML+Mako', 'html+mako', 'JavaScript+Mako', 'javascript+mako', 'js+mako', 'Mako', 'mako', 'XML+Mako', 'xml+mako', 'MAQL', 'maql', 'Markdown', 'markdown', 'md', 'Mask', 'mask', 'Mason', 'mason', 'Mathematica', 'mathematica', 'mma', 'nb', 'Matlab', 'matlab', 'Matlab session', 'matlabsession', 'MiniD', 'minid', 'MiniScript', 'miniscript', 'ms', 'Modelica', 'modelica', 'Modula-2', 'modula2', 'm2', 'MoinMoin/Trac Wiki markup', 'trac-wiki', 'moin', 'Monkey', 'monkey', 'Monte', 'monte', 'MoonScript', 'moonscript', 'moon', 'Mosel', 'mosel', 'CSS+mozpreproc', 'css+mozpreproc', 'mozhashpreproc', 'mozhashpreproc', 'Javascript+mozpreproc', 'javascript+mozpreproc', 'mozpercentpreproc', 'mozpercentpreproc', 'XUL+mozpreproc', 'xul+mozpreproc', 'MQL', 'mql', 'mq4', 'mq5', 'mql4', 'mql5', 'Mscgen', 'mscgen', 'msc', 'MuPAD', 'mupad', 'MXML', 'mxml', 'MySQL', 'mysql', 'CSS+Myghty', 'css+myghty', 'HTML+Myghty', 'html+myghty', 'JavaScript+Myghty', 'javascript+myghty', 'js+myghty', 'Myghty', 'myghty', 'XML+Myghty', 'xml+myghty', 'NCL', 'ncl', 'NSIS', 'nsis', 'nsi', 'nsh', 'NASM', 'nasm', 'objdump-nasm', 'objdump-nasm', 'Nemerle', 'nemerle', 'nesC', 'nesc', 'NestedText', 'nestedtext', 'nt', 'NewLisp', 'newlisp', 'Newspeak', 'newspeak', 'Nginx configuration file', 'nginx', 'Nimrod', 'nimrod', 'nim', 'Nit', 'nit', 'Nix', 'nixos', 'nix', 'Notmuch', 'notmuch', 'NuSMV', 'nusmv', 'NumPy', 'numpy', 'objdump', 'objdump', 'Objective-C', 'objective-c', 'objectivec', 'obj-c', 'objc', 'Objective-C++', 'objective-c++', 'objectivec++', 'obj-c++', 'objc++', 'Objective-J', 'objective-j', 'objectivej', 'obj-j', 'objj', 'OCaml', 'ocaml', 'Octave', 'octave', 'ODIN', 'odin', 'OMG Interface Definition Language', 'omg-idl', 'Ooc', 'ooc', 'Opa', 'opa', 'OpenEdge ABL', 'openedge', 'abl', 'progress', 'PacmanConf', 'pacmanconf', 'Pan', 'pan', 'ParaSail', 'parasail', 'Pawn', 'pawn', 'PEG', 'peg', 'Perl6', 'perl6', 'pl6', 'raku', 'Perl', 'perl', 'pl', 'PHP', 'php', 'php3', 'php4', 'php5', 'Pig', 'pig', 'Pike', 'pike', 'PkgConfig', 'pkgconfig', 'PL/pgSQL', 'plpgsql', 'Pointless', 'pointless', 'Pony', 'pony', 'PostScript', 'postscript', 'postscr', 'PostgreSQL console (psql)', 'psql', 'postgresql-console', 'postgres-console', 'PostgreSQL SQL dialect', 'postgresql', 'postgres', 'POVRay', 'pov', 'PowerShell', 'powershell', 'posh', 'ps1', 'psm1', 'PowerShell Session', 'ps1con', 'Praat', 'praat', 'Prolog', 'prolog', 'PromQL', 'promql', 'Properties', 'properties', 'jproperties', 'Protocol Buffer', 'protobuf', 'proto', 'PsySH console session for PHP', 'psysh', 'Pug', 'pug', 'jade', 'Puppet', 'puppet', 'PyPy Log', 'pypylog', 'pypy', 'Python 2.x', 'python2', 'py2', 'Python 2.x Traceback', 'py2tb', 'Python console session', 'pycon', 'Python', 'python', 'py', 'sage', 'python3', 'py3', 'Python Traceback', 'pytb', 'py3tb', 'QBasic', 'qbasic', 'basic', 'QVTO', 'qvto', 'qvt', 'QML', 'qml', 'qbs', 'RConsole', 'rconsole', 'rout', 'Relax-NG Compact', 'rng-compact', 'rnc', 'RPMSpec', 'spec', 'Racket', 'racket', 'rkt', 'Ragel in C Host', 'ragel-c', 'Ragel in CPP Host', 'ragel-cpp', 'Ragel in D Host', 'ragel-d', 'Embedded Ragel', 'ragel-em', 'Ragel in Java Host', 'ragel-java', 'Ragel', 'ragel', 'Ragel in Objective C Host', 'ragel-objc', 'Ragel in Ruby Host', 'ragel-ruby', 'ragel-rb', 'Raw token data', 'Rd', 'rd', 'ReasonML', 'reasonml', 'reason', 'REBOL', 'rebol', 'Red', 'red', 'red/system', 'Redcode', 'redcode', 'reg', 'registry', 'ResourceBundle', 'resourcebundle', 'resource', 'Rexx', 'rexx', 'arexx', 'RHTML', 'rhtml', 'html+erb', 'html+ruby', 'Ride', 'ride', 'Roboconf Graph', 'roboconf-graph', 'Roboconf Instances', 'roboconf-instances', 'RobotFramework', 'robotframework', 'RQL', 'rql', 'RSL', 'rsl', 'reStructuredText', 'restructuredtext', 'rst', 'rest', 'TrafficScript', 'trafficscript', 'rts', 'Ruby irb session', 'rbcon', 'irb', 'Ruby', 'ruby', 'rb', 'duby', 'Rust', 'rust', 'rs', 'SAS', 'sas', 'S', 'splus', 's', 'r', 'Standard ML', 'sml', 'SARL', 'sarl', 'Sass', 'sass', 'Scala', 'scala', 'Scaml', 'scaml', 'scdoc', 'scdoc', 'scd', 'Scheme', 'scheme', 'scm', 'Scilab', 'scilab', 'SCSS', 'scss', 'ShExC', 'shexc', 'shex', 'Shen', 'shen', 'Sieve', 'sieve', 'Silver', 'silver', 'Singularity', 'singularity', 'Slash', 'slash', 'Slim', 'slim', 'Slurm', 'slurm', 'sbatch', 'Smali', 'smali', 'Smalltalk', 'smalltalk', 'squeak', 'st', 'SmartGameFormat', 'sgf', 'Smarty', 'smarty', 'Snobol', 'snobol', 'Snowball', 'snowball', 'Solidity', 'solidity', 'SourcePawn', 'sp', 'Debian Sourcelist', 'debsources', 'sourceslist', 'sources.list', 'SPARQL', 'sparql', 'SQL', 'sql', 'sqlite3con', 'sqlite3', 'SquidConf', 'squidconf', 'squid.conf', 'squid', 'Scalate Server Page', 'ssp', 'Stan', 'stan', 'Stata', 'stata', 'do', 'SuperCollider', 'supercollider', 'sc', 'Swift', 'swift', 'SWIG', 'swig', 'systemverilog', 'systemverilog', 'sv', 'TAP', 'tap', 'Typographic Number Theory', 'tnt', 'TOML', 'toml', 'TADS 3', 'tads3', 'TASM', 'tasm', 'Tcl', 'tcl', 'Tcsh', 'tcsh', 'csh', 'Tcsh Session', 'tcshcon', 'Tea', 'tea', 'teal', 'teal', 'Tera Term macro', 'teratermmacro', 'teraterm', 'ttl', 'Termcap', 'termcap', 'Terminfo', 'terminfo', 'Terraform', 'terraform', 'tf', 'TeX', 'tex', 'latex', 'Text only', 'text', 'ThingsDB', 'ti', 'thingsdb', 'Thrift', 'thrift', 'tiddler', 'tid', 'Todotxt', 'todotxt', 'Transact-SQL', 'tsql', 't-sql', 'Treetop', 'treetop', 'Turtle', 'turtle', 'HTML+Twig', 'html+twig', 'Twig', 'twig', 'TypeScript', 'typescript', 'ts', 'TypoScriptCssData', 'typoscriptcssdata', 'TypoScriptHtmlData', 'typoscripthtmldata', 'TypoScript', 'typoscript', 'ucode', 'ucode', 'Unicon', 'unicon', 'UrbiScript', 'urbiscript', 'USD', 'usd', 'usda', 'VBScript', 'vbscript', 'VCL', 'vcl', 'VCLSnippets', 'vclsnippets', 'vclsnippet', 'VCTreeStatus', 'vctreestatus', 'VGL', 'vgl', 'Vala', 'vala', 'vapi', 'aspx-vb', 'aspx-vb', 'VB.net', 'vb.net', 'vbnet', 'HTML+Velocity', 'html+velocity', 'Velocity', 'velocity', 'XML+Velocity', 'xml+velocity', 'verilog', 'verilog', 'v', 'vhdl', 'vhdl', 'VimL', 'vim', 'WDiff', 'wdiff', 'WebAssembly', 'wast', 'wat', 'Web IDL', 'webidl', 'Whiley', 'whiley', 'X10', 'x10', 'xten', 'XQuery', 'xquery', 'xqy', 'xq', 'xql', 'xqm', 'XML+Django/Jinja', 'xml+django', 'xml+jinja', 'XML+Ruby', 'xml+ruby', 'xml+erb', 'XML', 'xml', 'XML+PHP', 'xml+php', 'XML+Smarty', 'xml+smarty', 'Xorg', 'xorg.conf', 'XSLT', 'xslt', 'Xtend', 'xtend', 'xtlang', 'extempore', 'YAML+Jinja', 'yaml+jinja', 'salt', 'sls', 'YAML', 'yaml', 'YANG', 'yang', 'Zeek', 'zeek', 'bro', 'Zephir', 'zephir', 'Zig', 'zig', 'ANSYS parametric design language', 'ansys', 'apdl', 'Mako', 'mako', 'HTML+Mako', 'html+mako', 'XML+Mako', 'xml+mako', 'JavaScript+Mako', 'js+mako', 'javascript+mako', 'CSS+Mako', 'css+mako', 'IPython', 'ipython2', 'ipython', 'IPython3', 'ipython3', 'IPython console session', 'ipythonconsole']
    extensions = ['*.abap', '*.ABAP', '*.isa', '*.apl', '*.aplf', '*.aplo', '*.apln', '*.aplc', '*.apli', '*.dyalog', '*.abnf', '*.as', '*.as', '*.adb', '*.ads', '*.ada', '*.adl', '*.adls', '*.adlf', '*.adlx', '*.agda', '*.aheui', '*.als', '*.at', '*.run', '*.ng2', '*.G', '*.g', '*.G', '*.g', '*.G', '*.g', '*.G', '*.g', '*.G', '*.g', '*.G', '*.g', '*.G', '*.g', '*.G', '*.g', '.htaccess', 'apache.conf', 'apache2.conf', '*.applescript', '*.ino', '*.arw', '*.aj', '*.asy', '*.aug', '*.au3', '*.ahk', '*.ahkl', '*.awk', '*.bbc', '*.bc', '*.bst', '*.bare', '*.sh', '*.ksh', '*.bash', '*.ebuild', '*.eclass', '*.exheres-0', '*.exlib', '*.zsh', '.bashrc', 'bashrc', '.bash_*', 'bash_*', 'zshrc', '.zshrc', 'PKGBUILD', '*.sh-session', '*.shell-session', '*.bat', '*.cmd', '*.befunge', '*.bib', '*.bb', '*.decls', '*.bmx', '*.bnf', '*.boa', '*.boo', '*.bpl', '*.bf', '*.b', '*.bug', '*.camkes', '*.idl4', '*.c', '*.h', '*.idc', '*.cmake', 'CMakeLists.txt', '*.c-objdump', '*.cpsa', '*.aspx', '*.asax', '*.ascx', '*.ashx', '*.asmx', '*.axd', '*.cs', '*.s', '*.cadl', '*.cdl', '*.capnp', '*.bas', '*.cddl', '*.ceylon', '*.cf', '*.chai', '*.chpl', '*.ci', '*.tmpl', '*.spt', '*.cirru', '*.clay', '*.icl', '*.dcl', '*.clj', '*.cljs', '*.cbl', '*.CBL', '*.cob', '*.COB', '*.cpy', '*.CPY', '*.coffee', '*.cfc', '*.cfm', '*.cfml', '*.cl', '*.lisp', '*.cp', '*.cps', '*.v', '*.cpp', '*.hpp', '*.c++', '*.h++', '*.cc', '*.hh', '*.cxx', '*.hxx', '*.C', '*.H', '*.cp', '*.CPP', '*.cpp-objdump', '*.c++-objdump', '*.cxx-objdump', '*.crmsh', '*.pcmk', '*.croc', '*.cry', '*.cr', '*.csd', '*.orc', '*.udo', '*.sco', '*.css', '*.cu', '*.cuh', '*.cyp', '*.cypher', '*.pyx', '*.pxd', '*.pxi', '*.d', '*.di', '*.d-objdump', '*.dpatch', '*.darcspatch', '*.dart', '*.dasm16', '*.dasm', 'control', '*.pas', '*.dpr', '*.dts', '*.dtsi', '*.dg', '*.diff', '*.patch', 'Dockerfile', '*.docker', '*.dtd', '*.duel', '*.jbst', '*.dylan-console', '*.dylan', '*.dyl', '*.intr', '*.lid', '*.hdp', '*.ecl', '*.ec', '*.eh', '*.eg', '*.ezt', '*.mac', '*.ebnf', '*.e', '*.ex', '*.eex', '*.exs', '*.leex', '*.elm', '*.el', '*.eml', '*.erl', '*.hrl', '*.es', '*.escript', '*.erl-sh', '*.html', '*.evoque', '*.xml', '*.exec', '*.n', '*.fs', '*.fsi', '*.fst', '*.fsti', '*.factor', '*.fy', '*.fancypack', '*.fan', '*.flx', '*.flxh', '*.fnl', '*.fish', '*.load', '*.flo', '*.frt', '*.fs', '*.f', '*.F', '*.f03', '*.f90', '*.F03', '*.F90', '*.PRG', '*.prg', '*.edp', '*.fut', '*.g', '*.gd', '*.gi', '*.gap', '*.gd', '*.vert', '*.frag', '*.geo', '*.s', '*.S', '*.gcode', '*.kid', '*.pot', '*.po', '*.feature', '*.plot', '*.plt', '*.go', '*.golo', '*.gdc', '*.gs', '*.gsx', '*.gsp', '*.vark', '*.gst', '*.gv', '*.dot', '*.[1234567]', '*.man', '*.groovy', '*.gradle', '*.hlsl', '*.hlsli', '*.haml', '*.handlebars', '*.hbs', '*.hs', '*.hx', '*.hxsl', '*.hsail', '*.html', '*.htm', '*.xhtml', '*.xslt', '*.phtml', '*.hxml', '*.hy', '*.hy', '*.hyb', '*.pro', '*.icon', '*.ICON', '*.idr', '*.ipf', '*.inf', '*.i6t', '*.ni', '*.i7x', '*.ini', '*.cfg', '*.inf', '*.io', '*.ik', '*.weechatlog', '*.thy', '*.ijs', '*.jag', '*.bug', '*.j', '*.java', '*.js', '*.jsm', '*.mjs', '*.cjs', '*.jcl', '*.jsgf', '*.jsonld', '*.json', 'Pipfile.lock', '*.jsp', '*.jl', '*.juttle', '*.kal', 'Kconfig*', '*Config.in*', 'external.in*', 'standard-modules.in', '*.kmsg', '*.dmesg', '*.kk', '*.kki', '*.kt', '*.kts', '*.kn', '*.lsl', '*.lasso', '*.lasso[89]', '*.lean', '*.less', 'lighttpd.conf', '*.b', '*.liquid', '*.lagda', '*.lcry', '*.lhs', '*.lidr', '*.ls', '*.ll', '*.mir', '*.x', '*.xi', '*.xm', '*.xmi', '*.lgt', '*.logtalk', '*.lua', '*.wlua', '*.moo', '*.mak', '*.mk', 'Makefile', 'makefile', 'Makefile.*', 'GNUmakefile', '*.mao', '*.maql', '*.md', '*.markdown', '*.mask', '*.m', '*.mhtml', '*.mc', '*.mi', 'autohandler', 'dhandler', '*.nb', '*.cdf', '*.nbp', '*.ma', '*.m', '*.ms', '*.mo', '*.def', '*.mod', '*.monkey', '*.mt', '*.moon', '*.mos', '*.css.in', '*.js.in', '*.xul.in', '*.mq4', '*.mq5', '*.mqh', '*.msc', '*.mu', '*.mxml', '*.myt', 'autodelegate', '*.ncl', '*.nsi', '*.nsh', '*.asm', '*.ASM', '*.objdump-intel', '*.n', '*.nc', '*.nt', '*.lsp', '*.nl', '*.kif', '*.ns2', 'nginx.conf', '*.nim', '*.nimrod', '*.nit', '*.nix', '*.smv', '*.objdump', '*.m', '*.h', '*.mm', '*.hh', '*.j', '*.ml', '*.mli', '*.mll', '*.mly', '*.m', '*.odin', '*.idl', '*.pidl', '*.ooc', '*.opa', '*.p', '*.cls', 'pacman.conf', '*.pan', '*.psi', '*.psl', '*.p', '*.pwn', '*.inc', '*.peg', '*.pl', '*.pm', '*.nqp', '*.p6', '*.6pl', '*.p6l', '*.pl6', '*.6pm', '*.p6m', '*.pm6', '*.t', '*.raku', '*.rakumod', '*.rakutest', '*.rakudoc', '*.pl', '*.pm', '*.t', '*.perl', '*.php', '*.php[345]', '*.inc', '*.pig', '*.pike', '*.pmod', '*.pc', '*.ptls', '*.pony', '*.ps', '*.eps', '*.pov', '*.inc', '*.ps1', '*.psm1', '*.praat', '*.proc', '*.psc', '*.ecl', '*.prolog', '*.pro', '*.pl', '*.promql', '*.properties', '*.proto', '*.pug', '*.jade', '*.pp', '*.pypylog', '*.py2tb', '*.py', '*.pyw', '*.jy', '*.sage', '*.sc', 'SConstruct', 'SConscript', '*.bzl', 'BUCK', 'BUILD', 'BUILD.bazel', 'WORKSPACE', '*.tac', '*.pytb', '*.py3tb', '*.BAS', '*.bas', '*.qvto', '*.qml', '*.qbs', '*.Rout', '*.rnc', '*.spec', '*.rkt', '*.rktd', '*.rktl', '*.rl', '*.rl', '*.rl', '*.rl', '*.rl', '*.rl', '*.rl', '*.Rd', '*.re', '*.rei', '*.r', '*.r3', '*.reb', '*.red', '*.reds', '*.cw', '*.reg', '*.rexx', '*.rex', '*.rx', '*.arexx', '*.rhtml', '*.ride', '*.graph', '*.instances', '*.robot', '*.rql', '*.rsl', '*.rst', '*.rest', '*.rts', '*.rb', '*.rbw', 'Rakefile', '*.rake', '*.gemspec', '*.rbx', '*.duby', 'Gemfile', '*.rs', '*.rs.in', '*.SAS', '*.sas', '*.S', '*.R', '.Rhistory', '.Rprofile', '.Renviron', '*.sml', '*.sig', '*.fun', '*.sarl', '*.sass', '*.scala', '*.scaml', '*.scd', '*.scdoc', '*.scm', '*.ss', '*.sci', '*.sce', '*.tst', '*.scss', '*.shex', '*.shen', '*.siv', '*.sieve', '*.sil', '*.vpr', '*.def', 'Singularity', '*.sla', '*.slim', '*.sl', '*.smali', '*.st', '*.sgf', '*.tpl', '*.snobol', '*.sbl', '*.sol', '*.sp', 'sources.list', '*.rq', '*.sparql', '*.sql', '*.sqlite3-console', 'squid.conf', '*.ssp', '*.stan', '*.do', '*.ado', '*.sc', '*.scd', '*.swift', '*.swg', '*.i', '*.sv', '*.svh', '*.tap', '*.tnt', '*.toml', 'Pipfile', 'poetry.lock', '*.t', '*.asm', '*.ASM', '*.tasm', '*.tcl', '*.rvt', '*.tcsh', '*.csh', '*.tea', '*.teal', '*.ttl', 'termcap', 'termcap.src', 'terminfo', 'terminfo.src', '*.tf', '*.tex', '*.aux', '*.toc', '*.txt', '*.ti', '*.thrift', '*.tid', 'todo.txt', '*.todotxt', '*.sql', '*.treetop', '*.tt', '*.ttl', '*.twig', '*.ts', '*.tsx', '*.typoscript', '*.u', '*.u1', '*.u2', '*.icn', '*.u', '*.usd', '*.usda', '*.vbs', '*.VBS', '*.vcl', '*.rpf', '*.vala', '*.vapi', '*.aspx', '*.asax', '*.ascx', '*.ashx', '*.asmx', '*.axd', '*.vb', '*.bas', '*.vm', '*.fhtml', '*.v', '*.vhdl', '*.vhd', '*.vim', '.vimrc', '.exrc', '.gvimrc', '_vimrc', '_exrc', '_gvimrc', 'vimrc', 'gvimrc', '*.wdiff', '*.wat', '*.wast', '*.webidl', '*.whiley', '*.x10', '*.xqy', '*.xquery', '*.xq', '*.xql', '*.xqm', '*.xml', '*.xsl', '*.rss', '*.xslt', '*.xsd', '*.wsdl', '*.wsf', 'xorg.conf', '*.xsl', '*.xslt', '*.xpl', '*.xtend', '*.xtm', '*.sls', '*.yaml', '*.yml', '*.yang', '*.zeek', '*.bro', '*.zep', '*.zig', '*.ans', '*.mao']
    mimetypes = ['text/x-abap', 'text/x-abnf', 'application/x-actionscript3', 'text/x-actionscript3', 'text/actionscript3', 'application/x-actionscript', 'text/x-actionscript', 'text/actionscript', 'text/x-ada', 'text/x-agda', 'text/x-alloy', 'text/x-ambienttalk', 'text/x-apacheconf', 'text/x-arduino', 'text/x-aspectj', 'text/x-asymptote', 'text/x-autoit', 'text/x-autohotkey', 'application/x-awk', 'text/x-bbcode', 'application/x-sh', 'application/x-shellscript', 'text/x-shellscript', 'application/x-shell-session', 'application/x-sh-session', 'application/x-dos-batch', 'application/x-befunge', 'text/x-bibtex', 'text/x-bb', 'text/x-bmx', 'text/x-bnf', 'text/x-boo', 'application/x-brainfuck', 'text/x-chdr', 'text/x-csrc', 'text/x-cmake', 'text/x-c-objdump', 'text/x-csharp', 'text/x-cddl', 'text/x-ceylon', 'text/x-chaiscript', 'application/x-chaiscript', 'text/html+cheetah', 'text/html+spitfire', 'application/x-javascript+cheetah', 'text/x-javascript+cheetah', 'text/javascript+cheetah', 'application/x-javascript+spitfire', 'text/x-javascript+spitfire', 'text/javascript+spitfire', 'application/x-cheetah', 'application/x-spitfire', 'application/xml+cheetah', 'application/xml+spitfire', 'text/x-cirru', 'text/x-clay', 'text/x-clojure', 'application/x-clojure', 'text/x-clojurescript', 'application/x-clojurescript', 'text/x-cobol', 'text/coffeescript', 'application/x-coldfusion', 'text/x-common-lisp', 'text/x-component-pascal', 'text/x-coq', 'text/x-c++hdr', 'text/x-c++src', 'text/x-cpp-objdump', 'text/x-crocsrc', 'text/x-cryptol', 'text/x-crystal', 'text/css+django', 'text/css+jinja', 'text/css+ruby', 'text/css+genshi', 'text/css', 'text/css+php', 'text/css+smarty', 'text/x-cuda', 'text/x-cython', 'application/x-cython', 'text/x-dsrc', 'text/x-d-objdump', 'text/x-dart', 'text/x-dasm16', 'text/x-pascal', 'text/x-c', 'text/x-dg', 'text/x-diff', 'text/x-patch', 'application/x-django-templating', 'application/x-jinja', 'text/x-dockerfile-config', 'application/xml-dtd', 'text/x-duel', 'text/x-jbst', 'text/x-dylan-console', 'text/x-dylan', 'text/x-dylan-lid', 'application/x-ecl', 'text/x-echdr', 'text/x-ecsrc', 'text/x-earl-grey', 'text/x-easytrieve', 'text/x-ebnf', 'text/x-eiffel', 'text/x-elixir-shellsession', 'text/x-elixir', 'text/x-elm', 'text/x-elisp', 'application/x-elisp', 'message/rfc822', 'application/x-ruby-templating', 'text/x-erlang', 'text/x-erl-shellsession', 'text/html+evoque', 'application/x-evoque', 'application/xml+evoque', 'text/x-ezhil', 'text/x-fsharp', 'text/x-fstar', 'text/x-factor', 'text/x-fancysrc', 'application/x-fantom', 'text/x-felix', 'application/x-fish', 'text/x-flatline', 'application/x-forth', 'text/x-fortran', 'text/x-freefem', 'text/x-futhark', 'text/x-gdscript', 'application/x-gdscript', 'text/x-glslsrc', 'text/x-gas', 'application/x-genshi', 'application/x-kid', 'application/x-genshi-text', 'text/x-genshi', 'application/x-gettext', 'text/x-gettext', 'text/gettext', 'text/x-gherkin', 'text/x-gnuplot', 'text/x-gosrc', 'text/x-gooddata-cl', 'text/x-gosu', 'text/x-gosu-template', 'text/x-graphviz', 'text/vnd.graphviz', 'application/x-troff', 'text/troff', 'text/x-groovy', 'text/x-hlsl', 'text/x-haml', 'text/html+handlebars', 'text/x-handlebars-template', 'text/x-haskell', 'text/haxe', 'text/x-haxe', 'text/x-hx', 'text/x-hsail', 'text/html+django', 'text/html+jinja', 'text/html+genshi', 'text/html', 'application/xhtml+xml', 'application/x-php', 'application/x-httpd-php', 'application/x-httpd-php3', 'application/x-httpd-php4', 'application/x-httpd-php5', 'text/html+smarty', 'text/x-hy', 'application/x-hy', 'text/x-hybris', 'application/x-hybris', 'text/idl', 'text/x-idris', 'text/ipf', 'text/x-ini', 'text/inf', 'text/x-iosrc', 'text/x-iokesrc', 'text/x-irclog', 'text/x-isabelle', 'text/x-j', 'text/x-java', 'application/x-javascript+django', 'application/x-javascript+jinja', 'text/x-javascript+django', 'text/x-javascript+jinja', 'text/javascript+django', 'text/javascript+jinja', 'application/x-javascript+ruby', 'text/x-javascript+ruby', 'text/javascript+ruby', 'application/x-javascript+genshi', 'text/x-javascript+genshi', 'text/javascript+genshi', 'application/javascript', 'application/x-javascript', 'text/x-javascript', 'text/javascript', 'application/x-javascript+php', 'text/x-javascript+php', 'text/javascript+php', 'application/x-javascript+smarty', 'text/x-javascript+smarty', 'text/javascript+smarty', 'text/x-jcl', 'application/jsgf', 'application/x-jsgf', 'text/jsgf', 'application/ld+json', 'application/json', 'application/json-object', 'application/x-jsp', 'text/x-julia', 'application/x-julia', 'application/juttle', 'application/x-juttle', 'text/x-juttle', 'text/juttle', 'text/kal', 'application/kal', 'text/x-kconfig', 'text/x-koka', 'text/x-kotlin', 'text/x-lsl', 'text/css+lasso', 'text/html+lasso', 'application/x-httpd-lasso', 'application/x-httpd-lasso[89]', 'application/x-javascript+lasso', 'text/x-javascript+lasso', 'text/javascript+lasso', 'text/x-lasso', 'application/xml+lasso', 'text/x-lean', 'text/x-less-css', 'text/x-lighttpd-conf', 'text/limbo', 'text/x-literate-agda', 'text/x-literate-cryptol', 'text/x-literate-haskell', 'text/x-literate-idris', 'text/livescript', 'text/x-llvm', 'text/x-logos', 'text/x-logtalk', 'text/x-lua', 'application/x-lua', 'multipart/mixed', 'multipart/related', 'multipart/alternative', 'text/x-moocode', 'text/x-makefile', 'text/css+mako', 'text/html+mako', 'application/x-javascript+mako', 'text/x-javascript+mako', 'text/javascript+mako', 'application/x-mako', 'application/xml+mako', 'text/x-gooddata-maql', 'application/x-gooddata-maql', 'text/x-markdown', 'text/x-mask', 'application/x-mason', 'application/mathematica', 'application/vnd.wolfram.mathematica', 'application/vnd.wolfram.mathematica.package', 'application/vnd.wolfram.cdf', 'text/matlab', 'text/x-minidsrc', 'text/x-minicript', 'application/x-miniscript', 'text/x-modelica', 'text/x-modula2', 'text/x-trac-wiki', 'text/x-monkey', 'text/x-moonscript', 'application/x-moonscript', 'text/x-mql', 'text/x-mysql', 'text/css+myghty', 'text/html+myghty', 'application/x-javascript+myghty', 'text/x-javascript+myghty', 'text/javascript+mygthy', 'application/x-myghty', 'application/xml+myghty', 'text/ncl', 'text/x-nsis', 'text/x-nasm', 'text/x-nasm-objdump', 'text/x-nemerle', 'text/x-nescsrc', 'text/x-newlisp', 'application/x-newlisp', 'text/x-newspeak', 'text/x-nginx-conf', 'text/x-nim', 'text/x-nix', 'text/x-objdump', 'text/x-objective-c', 'text/x-objective-c++', 'text/x-objective-j', 'text/x-ocaml', 'text/octave', 'text/odin', 'text/x-ooc', 'text/x-opa', 'text/x-openedge', 'application/x-openedge', 'text/x-parasail', 'text/x-pawn', 'text/x-peg', 'text/x-perl6', 'application/x-perl6', 'text/x-perl', 'application/x-perl', 'text/x-php', 'text/x-pig', 'text/x-pike', 'text/x-plpgsql', 'application/postscript', 'text/x-postgresql-psql', 'text/x-postgresql', 'text/x-povray', 'text/x-powershell', 'text/x-prolog', 'text/x-java-properties', 'text/x-pug', 'text/x-jade', 'application/x-pypylog', 'text/x-python2', 'application/x-python2', 'text/x-python2-traceback', 'text/x-python-doctest', 'text/x-python', 'application/x-python', 'text/x-python3', 'application/x-python3', 'text/x-python-traceback', 'text/x-python3-traceback', 'text/basic', 'application/x-qml', 'application/x-qt.qbs+qml', 'text/x-rpm-spec', 'text/x-racket', 'application/x-racket', 'application/x-pygments-tokens', 'text/x-r-doc', 'text/x-reasonml', 'text/x-rebol', 'text/x-red', 'text/x-red-system', 'text/x-windows-registry', 'text/x-rexx', 'text/html+ruby', 'text/x-ride', 'text/x-robotframework', 'text/x-rql', 'text/rsl', 'text/x-rst', 'text/prs.fallenstein.rst', 'text/x-ruby-shellsession', 'text/x-ruby', 'application/x-ruby', 'text/rust', 'text/x-rust', 'text/x-sas', 'text/sas', 'application/x-sas', 'text/S-plus', 'text/S', 'text/x-r-source', 'text/x-r', 'text/x-R', 'text/x-r-history', 'text/x-r-profile', 'text/x-standardml', 'application/x-standardml', 'text/x-sarl', 'text/x-sass', 'text/x-scala', 'text/x-scaml', 'text/x-scheme', 'application/x-scheme', 'text/scilab', 'text/x-scss', 'text/shex', 'text/x-shen', 'application/x-shen', 'text/x-slim', 'text/smali', 'text/x-smalltalk', 'application/x-smarty', 'text/x-snobol', 'text/x-sourcepawn', 'application/sparql-query', 'text/x-sql', 'text/x-sqlite3-console', 'text/x-squidconf', 'application/x-ssp', 'text/x-stata', 'text/stata', 'application/x-stata', 'application/supercollider', 'text/supercollider', 'text/x-swift', 'text/swig', 'text/x-systemverilog', 'text/x-tasm', 'text/x-tcl', 'text/x-script.tcl', 'application/x-tcl', 'application/x-csh', 'text/x-tea', 'text/x-teratermmacro', 'application/x-tf', 'application/x-terraform', 'text/x-tex', 'text/x-latex', 'text/plain', 'application/x-thrift', 'text/vnd.tiddlywiki', 'text/x-todo', 'text/x-tsql', 'text/turtle', 'application/x-turtle', 'text/html+twig', 'application/x-twig', 'text/x-typescript', 'text/x-typoscript', 'text/unicon', 'application/x-urbiscript', 'text/x-vclsrc', 'text/x-vclsnippet', 'text/x-vala', 'text/x-vbnet', 'text/x-vba', 'text/html+velocity', 'application/xml+velocity', 'text/x-verilog', 'text/x-vhdl', 'text/x-vim', 'text/x-whiley', 'text/x-x10', 'text/xquery', 'application/xquery', 'application/xml+django', 'application/xml+jinja', 'application/xml+ruby', 'text/xml', 'application/xml', 'image/svg+xml', 'application/rss+xml', 'application/atom+xml', 'application/xml+php', 'application/xml+smarty', 'application/xsl+xml', 'application/xslt+xml', 'text/x-xtend', 'text/x-yaml+jinja', 'text/x-sls', 'text/x-yaml', 'application/yang', 'text/zig', 'text/x-python', 'application/x-python', 'text/x-python3', 'application/x-python3', 'text/x-python', 'application/x-python', 'text/x-python3', 'application/x-python3', 'text/x-ipython-console']
    styles = ['default', 'emacs', 'friendly', 'colorful', 'autumn', 'murphy', 'manni', 'material', 'monokai', 'perldoc', 'pastie', 'borland', 'trac', 'native', 'fruity', 'bw', 'vim', 'vs', 'tango', 'rrt', 'xcode', 'igor', 'paraiso-light', 'paraiso-dark', 'lovelace', 'algol', 'algol_nu', 'arduino', 'rainbow_dash', 'abap', 'solarized-dark', 'solarized-light', 'sas', 'stata', 'stata-light', 'stata-dark', 'inkpot', 'zenburn', 'gruvbox-dark', 'gruvbox-light']
    
    from argparse import ArgumentParser
    parser = ArgumentParser(description='Outputs the differences between two input files in HTML markup. Requires difflib, argparse and pygments.')
    parser.add_argument('File1', metavar='File1', help="First file to compare.")
    parser.add_argument('File2', metavar='File2', help="Second file to compare.")
    parser.add_argument('Outfile', metavar='Outfile', help="File to write HTML output to.")
    parser.add_argument('-L', '-l', '--lang', '--language', dest='language', metavar='LANGUAGE', choices=languages+extensions+mimetypes, help='Syntax highlighting for specified programming language (format: LANGUAGE), file extension type (format: *.EXTENSION), or MIME type (format: TYPE/SUBTYPE). Default is no syntax highlighting.', default=None)
    parser.add_argument('-S', '-s', '--style', dest='style', metavar='STYLE', choices=styles, help='Syntax highlighting style. Default is xcode.', default='xcode')
    parser.add_argument('-C1', '-c1', '--color1', dest='c1', metavar='COLOR', help='Color to highlight differences in the first file with. HTML color name or HEX value. Default is lightpink.', default='lightpink')
    parser.add_argument('-C2', '-c2', '--color2', dest='c2', metavar='COLOR', help='Color to highlight differences in the second file with. HTML color name or HEX value. Default is lightgreen.', default='lightgreen')
    parser.add_argument('-B1', '-b1', '--bg1', dest='td1', metavar='COLOR', help='Background color of leftmost column. HTML color name or HEX value. Default is white.', default='white')
    parser.add_argument('-B2', '-b2', '--bg2', dest='td2', metavar='COLOR', help='Background color of middle (line number) column. HTML color name or HEX value. Default is whitesmoke.', default='whitesmoke')
    parser.add_argument('-BG', '-B3', '-bg', '-b3', '--bg3', dest='td3', metavar='COLOR', help='Background color of third (contents) column. HTML color name or HEX value. Default is azure.', default='azure')
    parser.add_argument('-N', '-n', '--num', '--number', '--numbers', dest='colorno', metavar='COLOR', help='Font color of line numbers. HTML color name or HEX value. Default is dimgrey.', default='dimgrey')
    args = parser.parse_args()
    try:
        s1 = open(args.File1, 'r').read()
    except:
        print(f'Error: Cannot read file {args.file1}. Terminating...')
        exit()
    try:
        s2 = open(args.File2, 'r').read()
    except:
        print(f'Error: Cannot read file {args.file2}. Terminating...')
        exit()
    try:
        of = open(args.Outfile, 'w')
    except:
        print(f'Error: Cannot open file {args.outfile} for writing. Terminating...')
        exit()
    method = 0
    if args.language:
        if args.language in languages:
            method = 1
        elif args.language in extensions:
            method = 2
        elif args.language in mimetypes:
            method = 3
    try:
        out = diff(s1, s2, style=args.style, language=args.language, method=method, c1=args.c1, c2=args.c2, td1=args.td1, td2=args.td2, td3=args.td3, colorno=args.colorno)
    except:
        print(f'Error: Failed to generate HTML markup. Terminating...')
        exit()
    try:
        of.write(out)
    except:
        print(f'Error: Cannot write to file {args.outfile}. Terminating...')
        exit()